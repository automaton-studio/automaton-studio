@using Automaton.Studio.Domain
@using Automaton.Core.Models
@using Blazored.FluentValidation

<Collapse Bordered="false" DefaultActiveKey="@(new[]{"1"})" Class="variables-collapse">
    <ChildContent>
        <Panel Header="Variables produced" Key="1" Class="variables-collapse-panel">
            @foreach (var variable in Step.Outputs.Values)
            {
                <StepVariableInput Step="@Step" Variable="@variable" />
            }
        </Panel>
    </ChildContent>
</Collapse>
    
@code {
    [Parameter]
    public StudioStep Step { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
    }
}

<style>
    .variables-collapse .ant-collapse-header-text {
        font-weight: bold;
        padding-left: 0px;
    }

    .variables-collapse .ant-collapse-borderless > .ant-collapse-item:last-child, 
    .ant-collapse-borderless > .ant-collapse-item:last-child .ant-collapse-header {
        padding-left: 0px;
    }

    [data-theme='compact'] 
    .variables-collapse .variables-collapse-panel,
    .variables-collapse .variables-collapse-panel {
        background: #fff;
        border: 0px;
        overflow: hidden;
    }
</style>