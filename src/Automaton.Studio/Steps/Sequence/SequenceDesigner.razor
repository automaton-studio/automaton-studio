@using AntDesign

<div class="@Step.Class" style="margin-left: @Step.GetMargin()px">
    <Row Align="middle">
        <Col Flex=@("none")>
        <div class="designer-step-icon-container">
            <Icon Type="@GetExpandCollapseIcon()" Theme="outline" OnClick="ToggleContent" />
            <Icon Type="@Step.Icon" Theme="outline" />
        </div>
        </Col>

        <Col Flex=@("auto")>
            <b>@Step.DisplayName</b>
            @ChildContent
        </Col>

        <Col Class="designer-step-options">
        <div class="designer-step-actions-icon">
            <Dropdown Placement="@Placement.Left" Trigger="@(new Trigger[] { Trigger.Click })">
                <Overlay>
                    <Menu>
                        <MenuItem Icon="setting" OnClick="@(() => OnSettings(Step))">
                            Settings
                        </MenuItem>
                        @if (Step.HasProperties)
                        {
                            <MenuItem Icon="edit" OnClick="@(() => OnEdit(Step))">
                                Edit
                            </MenuItem>
                        }
                        <MenuItem Icon="delete" OnClick="@(() => OnDelete(Step))">
                            Delete
                        </MenuItem>
                    </Menu>
                </Overlay>
                <ChildContent>
                    <a href="#" @onclick:preventDefault @onmousedown:stopPropagation>
                        <Icon Type="more" Theme="outline" />
                    </a>
                </ChildContent>
            </Dropdown>
        </div>
        </Col>
    </Row>
</div>

<style>

    .designer-sequence-step {
        padding: 1em;
        width: fit-content;
        width: -moz-fit-content;
        margin: 0px 10px 0px 10px;
        background-color: #DBE9FF;
        border-radius: 5px 5px 0px 0px;
        box-shadow: 1px 1px 5px 2px rgba(179,179,179,0.46);
    }

    .designer-sequence-step-selected {
        padding: 1em;
        width: fit-content;
        margin: 0px 10px 0px 10px;
        border-radius: 5px 5px 0px 0px;
        box-shadow: 1px 1px 5px 2px rgba(179,179,179,0.46);
        background-color: #B4D2FF;
    }

    .designer-sequence-step-disabled {
        padding: 1em;
        width: fit-content;
        margin: 0px 10px 0px 10px;
        border-radius: 5px 5px 0px 0px;
        box-shadow: 1px 1px 5px 2px rgba(179,179,179,0.46);
        background-color: #EFEFEF;
        opacity: 0.5;
    }
</style>