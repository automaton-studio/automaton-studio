@page "/designer"
@page "/designer/{WorkflowId}"
@using Automaton.Studio.Activities
@using Automaton.Studio.Components
@using Plk.Blazor.DragDrop

<Layout>
    <Header Class="header">
        <Row>
            <Col Flex=@("none")>
            <Space Class="actions-bar">
                <SpaceItem>
                    <Button Type="dashed" Icon="save">
                        Save
                    </Button>
                </SpaceItem>
                <SpaceItem>
                    <Button Type="dashed" Icon="caret-right">
                        Run
                    </Button>
                </SpaceItem>
            </Space>
            </Col>

            @*<Col Class="right-actions">
                    <Space Class="right-header-items">
                        <SpaceItem>
                            <Button Shape="link" Icon="question-circle" Class="action-button">
                                <span class="action-label">Help</span>
                            </Button>
                        </SpaceItem>
                    </Space>
                </Col>*@
        </Row>
    </Header>

    <Layout Style="background-color: #FFF">
        <Sider Theme="SiderTheme.Light" Style="height: 100vh; position: fixed; overflow: auto">
            <ActivitiesTree></ActivitiesTree>
        </Sider>

        <Content Style="padding-left: 200px; min-height: 200px">
            <Dropzone @ref="dropzone" TItem="DynamicActivity" Items="DesignerViewModel.Activities" InstantReplace="true" OnItemDrop="@((p)=>OnItemDrop(p))">
                <DynamicActivityComponent Activity=@context />
            </Dropzone>
        </Content>
    </Layout>
</Layout>



